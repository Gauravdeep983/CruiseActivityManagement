<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../../jacoco-resources/report.gif" type="image/gif"/><title>RegisterTest.java</title><link rel="stylesheet" href="../../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../../index.html" class="el_report">Merged (Nov 11, 2020 4:48:13 PM)</a> &gt; <a href="../../index.html" class="el_group">CruiseActivityManagement</a> &gt; <a href="../index.html" class="el_bundle">test</a> &gt; <a href="index.source.html" class="el_package">CruiseActivityManagement.Selenium</a> &gt; <span class="el_source">RegisterTest.java</span></div><h1>RegisterTest.java</h1><pre class="source lang-java linenums">package CruiseActivityManagement.Selenium;

import java.util.regex.Pattern;
import java.io.FileInputStream;
import java.util.Properties;
import java.util.concurrent.TimeUnit;
import java.util.logging.Level;
import java.util.logging.Logger;

import org.junit.*;
import org.junit.runner.RunWith;
import org.junit.runners.*;

import static org.junit.Assert.*;
import static org.hamcrest.CoreMatchers.*;
import org.openqa.selenium.*;
import org.openqa.selenium.chrome.ChromeDriver;
import org.openqa.selenium.firefox.FirefoxDriver;
import org.openqa.selenium.support.ui.Select;

import CruiseActivityMangement.CAM_BusinessFunctions;
import junitparams.FileParameters;
import junitparams.JUnitParamsRunner;

@RunWith(JUnitParamsRunner.class)
@FixMethodOrder(MethodSorters.NAME_ASCENDING)
<span class="nc" id="L27">public class RegisterTest extends CAM_BusinessFunctions {</span>
<span class="nc" id="L28">	private boolean acceptNextAlert = true;</span>
<span class="nc" id="L29">	private StringBuffer verificationErrors = new StringBuffer();</span>
	public static String sAppURL, sSharedUIMapPath;

	@BeforeClass
	public static void setUpBeforeClass() throws Exception {
<span class="nc" id="L34">		Logger.getLogger(&quot;org.openqa.selenium.remote&quot;).setLevel(Level.OFF);</span>
<span class="nc" id="L35">	}</span>

	@Before
	public void setUp() throws Exception {
<span class="nc" id="L39">		System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;c:/ChromeDriver/chromedriver.exe&quot;);</span>
<span class="nc" id="L40">		driver = new ChromeDriver();</span>

<span class="nc" id="L42">		prop = new Properties();</span>
//		Load Configuration file
<span class="nc" id="L44">		prop.load(new FileInputStream(&quot;./Configuration/CAM_Configuration.properties&quot;));</span>
<span class="nc" id="L45">		sAppURL = prop.getProperty(&quot;sAppURL&quot;);</span>
<span class="nc" id="L46">		sSharedUIMapPath = prop.getProperty(&quot;SharedUIMap&quot;);</span>

<span class="nc" id="L48">		prop.load(new FileInputStream(sSharedUIMapPath));</span>
<span class="nc" id="L49">		driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);</span>
<span class="nc" id="L50">	}</span>

	@Test
	@FileParameters(&quot;excel/Registration.csv&quot;)
	public void testRegisterValidations(String testCaseNo, String username, String password, String firstName, String lastName,
			String phone, String email, String roomNumber, String deckNumber, String membershipType, String role,
			String errorMsg, String usernameError, String passwordError, String firstNameError, String lastNameError,
			String phoneError, String emailError, String roomNumberError, String deckNumberError) throws Exception {
		// Landing page
<span class="nc" id="L59">		driver.get(sAppURL);</span>
<span class="nc" id="L60">		driver.findElement(By.id(prop.getProperty(&quot;Btn_Login_Register&quot;))).click();</span>

		// Register Page
<span class="nc" id="L63">		CAM_BF_Register(driver, username, password, firstName, lastName, phone, email, roomNumber, deckNumber);</span>
		// Screenshot
<span class="nc" id="L65">		takeScreenShot(driver, new Throwable().getStackTrace()[0].getMethodName());</span>
		// Back to homepage
<span class="nc" id="L67">		driver.findElement(By.linkText(prop.getProperty(&quot;Lnk_Register_Back&quot;))).click();</span>
<span class="nc" id="L68">	}</span>
	
	@Test
	@FileParameters(&quot;excel/RegisterHappy.csv&quot;)
	public void testRegisterHappy(String testCaseNo, String username, String password, String firstName, String lastName,
			String phone, String email, String roomNumber, String deckNumber, String membershipType, String role,
			String successMessage) throws Exception {
		// Landing page
<span class="nc" id="L76">		driver.get(sAppURL);</span>
<span class="nc" id="L77">		driver.findElement(By.id(prop.getProperty(&quot;Btn_Login_Register&quot;))).click();</span>

		// Register Page
<span class="nc" id="L80">		CAM_BF_Register(driver, username, password, firstName, lastName, phone, email, roomNumber, deckNumber);</span>
		
		// Registration successful message verfication
		try {
<span class="nc" id="L84">		      assertEquals(successMessage, driver.findElement(By.id(prop.getProperty(&quot;Lbl_Login_Success&quot;))).getText());</span>
<span class="nc" id="L85">		    } catch (Error e) {</span>
<span class="nc" id="L86">		      verificationErrors.append(e.toString());</span>
		    }
		// Screenshot
<span class="nc" id="L89">		takeScreenShot(driver, new Throwable().getStackTrace()[0].getMethodName());</span>
<span class="nc" id="L90">	}</span>

	@After
	public void tearDown() throws Exception {
<span class="nc" id="L94">		driver.quit();</span>
<span class="nc" id="L95">		String verificationErrorString = verificationErrors.toString();</span>
<span class="nc bnc" id="L96" title="All 2 branches missed.">		if (!&quot;&quot;.equals(verificationErrorString)) {</span>
<span class="nc" id="L97">			fail(verificationErrorString);</span>
		}
<span class="nc" id="L99">	}</span>

	private boolean isElementPresent(By by) {
		try {
<span class="nc" id="L103">			driver.findElement(by);</span>
<span class="nc" id="L104">			return true;</span>
<span class="nc" id="L105">		} catch (NoSuchElementException e) {</span>
<span class="nc" id="L106">			return false;</span>
		}
	}

	private boolean isAlertPresent() {
		try {
<span class="nc" id="L112">			driver.switchTo().alert();</span>
<span class="nc" id="L113">			return true;</span>
<span class="nc" id="L114">		} catch (NoAlertPresentException e) {</span>
<span class="nc" id="L115">			return false;</span>
		}
	}

	private String closeAlertAndGetItsText() {
		try {
<span class="nc" id="L121">			Alert alert = driver.switchTo().alert();</span>
<span class="nc" id="L122">			String alertText = alert.getText();</span>
<span class="nc bnc" id="L123" title="All 2 branches missed.">			if (acceptNextAlert) {</span>
<span class="nc" id="L124">				alert.accept();</span>
<span class="nc" id="L125">			} else {</span>
<span class="nc" id="L126">				alert.dismiss();</span>
			}
<span class="nc" id="L128">			return alertText;</span>
		} finally {
<span class="nc" id="L130">			acceptNextAlert = true;</span>
		}
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.2.201808211720</span>Merged (Nov 11, 2020 4:48:13 PM)</div></body></html>